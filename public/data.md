# URL 設計とルーティングの一覧

| メソッド | パス                            | 説明                             | 関数名 | データ取得内容                                   |
| -------- | ------------------------------- | -------------------------------- | ------ | ------------------------------------------------ |
| GET      | `/`                             | レシピ一覧ページを表示           |        | レシピ名、画像をランダム一覧（無限スクロール）   |
| GET      | `/favorites`                    | ユーザーのお気に入りページを表示 |        | ユーザーのお気に入りレシピ一覧（無限スクロール） |
| GET      | `/about`                        | サービスの説明ページを表示       |        | -                                                |
| GET      | `/[recipe_id]`                  | レシピ詳細ページを表示           |        | レシピ名、材料、作り方、画像                     |
| GET      | `/[recipe_id]/cook`             | 料理ページを表示                 |        | レシピ名、材料、作り方、画像                     |
| GET      | `/registration`                 | レシピの新規登録ページを表示     |        | -                                                |
| POST     | `/registration`                 | 新しいレシピを登録               |        | 登録するレシピデータ                             |
| GET      | `/[user_id]`                    | ユーザーのマイページを表示       |        | ユーザーの投稿したレシピ一覧（無限スクロール）   |
| GET      | `/[user_id]/edit/[recipe_id]`   | レシピ編集ページを表示           |        | 編集対象のレシピ詳細                             |
| POST     | `/[user_id]/edit/[recipe_id]`   | レシピを更新                     |        | 編集後のレシピデータ                             |
| POST     | `/[user_id]/delete/[recipe_id]` | レシピを削除                     |        | -                                                |

---

## DB 設計

## profiles テーブル

| フィールド名 | 型   | 説明                             | バリデーション       |
| ------------ | ---- | -------------------------------- | -------------------- |
| user_id      | UUID | ユーザー ID（主キー）            | 必須、一意、主キー   |
| name         | TEXT | ログイン時に保存する名前         | 必須、最大 255 文字  |
| avatar_url   | TEXT | ログイン時に保存するアイコン URL | 任意、最大 1000 文字 |

---

## recipes テーブル

| フィールド名 | 型      | 説明                      | バリデーション       |
| ------------ | ------- | ------------------------- | -------------------- |
| id           | INTEGER | レシピ ID（主キー）       | 自動採番、主キー     |
| user_id      | UUID    | レシピ作成者のユーザー ID | 必須、外部キー       |
| name         | TEXT    | レシピ名                  | 必須、最大 255 文字  |
| image_url    | TEXT    | レシピ画像の URL（任意）  | 任意、最大 1000 文字 |
| time         | TEXT    | 調理時間（任意）          | 任意、最大 50 文字   |
| comment      | TEXT    | コメント（任意）          | 任意、最大 1000 文字 |
| howmany      | TEXT    | 何人前かの情報（任意）    | 任意、最大 50 文字   |

---

## ingredients テーブル

| フィールド名 | 型      | 説明              | バリデーション      |
| ------------ | ------- | ----------------- | ------------------- |
| id           | INTEGER | 材料 ID（主キー） | 自動採番、主キー    |
| index        | INTEGER | 表示順（任意）    | 任意、0 以上        |
| recipe_id    | INTEGER | 紐づくレシピの ID | 必須、外部キー      |
| name         | TEXT    | 材料名            | 必須、最大 255 文字 |
| amount       | TEXT    | 材料の分量        | 必須、最大 255 文字 |

---

## descripts テーブル（作り方）

| フィールド名 | 型      | 説明                   | バリデーション       |
| ------------ | ------- | ---------------------- | -------------------- |
| id           | INTEGER | 手順 ID（主キー）      | 自動採番、主キー     |
| index        | INTEGER | 表示順（任意）         | 任意、0 以上         |
| recipe_id    | INTEGER | 紐づくレシピの ID      | 必須、外部キー       |
| image_url    | TEXT    | 手順画像の URL（任意） | 任意、最大 1000 文字 |
| text         | TEXT    | 手順の説明（任意）     | 任意、最大 1000 文字 |

---

## favorites テーブル

| フィールド名 | 型      | 説明                      | バリデーション   |
| ------------ | ------- | ------------------------- | ---------------- |
| id           | INTEGER | お気に入り ID（主キー）   | 自動採番、主キー |
| user_id      | UUID    | いいねしたユーザーの ID   | 必須、外部キー   |
| recipe_id    | INTEGER | お気に入り対象のレシピ ID | 必須、外部キー   |
